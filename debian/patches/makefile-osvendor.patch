Description: Add Makefile detection of Debian
 Implement detection of the Debian release within Makefile. Set appropriate
 environment variables.
Author: Brian T. Smith <bsmith@systemfabricworks.com>
Forwarded: no
Last-Update: <2018-10-04>
---
This patch header follows DEP-3: http://dep.debian.net/deps/dep3/
--- a/MakeTools/funcs-ext.sh
+++ b/MakeTools/funcs-ext.sh
@@ -722,6 +722,9 @@
             centos)
                 rval=redhat
                 ;;
+            debian)
+                rval=debian
+                ;;
             *)
                 rval=""
                 ;;
@@ -843,6 +846,9 @@
 			rval=`grep -i SuSE /etc/SuSE-release | cut -d' ' -f3`
 		fi
 		;;
+	debian)
+		rval=`cat /etc/debian_version`
+		;;
 	turbolinux)
 		rval=`cat /etc/turbolinux-release | cut -d' ' -f3`
 		;;
@@ -869,6 +875,8 @@
 		ver=RH$(echo $BUILD_TARGET_OS_VENDOR_VERSION|sed -e 's/ES/EL/' -e 's/\..*//');;
 	SuSE)
 		ver=SL$(echo $BUILD_TARGET_OS_VENDOR_VERSION|sed -e 's/\..*//');;
+	debian)
+		ver=DEBIAN$(echo $BUILD_TARGET_OS_VENDOR_VERSION|sed -e 's/ES//' );;
 	*)
 		ver="$BUILD_TARGET_OS_VENDOR.$BUILD_TARGET_OS_VENDOR_VERSION"''
 	esac
